<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Vocabulario Griego</title>
  <style>
    body { font-family: sans-serif; max-width: 800px; margin: auto; padding: 20px; }
    nav { background-color: #f0f0f0; padding: 10px; margin-bottom: 20px; }
    nav button { margin-right: 10px; }
    .palabra { margin: 10px 0; padding: 10px; border-bottom: 1px solid #ccc; }
    .grupo { font-size: 0.9em; color: #888; }
    select { margin-bottom: 20px; }
  </style>
</head>
<body>
  <nav>
    <button onclick="location.href='gramatica.html'">Gramática</button>
    <button onclick="location.href='vocabulario.html'">Vocabulario</button>
  </nav>

  <h1>Vocabulario Griego</h1>

  <label for="filtro">Filtrar por etiqueta:</label>
  <select id="filtro">
    <option value="todas">Todas</option>
  </select>

  <div id="contenedor-palabras"></div>

  <script>
    let palabras = [];

    // Cargar JSON externo
    fetch('vocab.json')
      .then(response => response.json())
      .then(data => {
        palabras = data;
        poblarFiltro(palabras);
        mostrarPalabras(palabras);
      });

    const contenedor = document.getElementById('contenedor-palabras');
    const filtro = document.getElementById('filtro');

    filtro.addEventListener('change', () => {
      const seleccion = filtro.value;
      const filtradas = seleccion === "todas"
        ? palabras
        : palabras.filter(p => p.etiquetas.includes(seleccion));
      mostrarPalabras(filtradas);
    });

    function poblarFiltro(lista) {
      const etiquetas = new Set();
      lista.forEach(p => p.etiquetas.forEach(e => etiquetas.add(e)));
      [...etiquetas].sort().forEach(et => {
        const opt = document.createElement('option');
        opt.value = et;
        opt.textContent = et;
        filtro.appendChild(opt);
      });
    }

    function mostrarPalabras(lista) {
      contenedor.innerHTML = '';
      lista.forEach(p => {
        const div = document.createElement('div');
        div.className = 'palabra';
        div.innerHTML = `
          <strong>${p.palabra}</strong> – ${p.traduccion}<br>
          <span class="grupo">${p.tipo} · ${p.etiquetas.join(', ')}</span>
        `;
        contenedor.appendChild(div);
      });
    }
  </script>
</body>
</html>
